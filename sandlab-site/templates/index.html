{% extends "base.html" %} 
{% block content %}

{# --- Homepage title + intro (from content/_index.md) --- #}
<section class="home-header">
  <h1>{{ section.title }}</h1>
  {% if section.content %}
    <div class="home-intro">
      {{ section.content | safe }}
    </div>
  {% endif %}
</section>

{# --- Latest 2 notes --- #}
{% set notes = get_section(path="notes/_index.md") %}
{% set latest_notes = notes.pages | slice(end=2) %}
<section class="home-section">
  <h2><a href="{{ notes.permalink }}">Latest notes</a></h2>
  <ul class="post-list">
    {% for page in latest_notes %}
      <li class="post-item">
        <a href="{{ page.permalink }}">{{ page.title }}</a>
        <small class="post-meta">
          {% if page.date %}{{ page.date | date(format="%Y-%m-%d") }}{% endif %}
        </small>
      </li>
    {% endfor %}
  </ul>
</section>

{# --- Latest 2 blog posts --- #}
{% set blog = get_section(path="blog/_index.md") %}
{% set latest_blog = blog.pages | slice(end=2) %}
<section class="home-section">
  <h2><a href="{{ blog.permalink }}">Latest blog posts</a></h2>
  <ul class="post-list">
    {% for page in latest_blog %}
      <li class="post-item">
        <a href="{{ page.permalink }}">{{ page.title }}</a>
        <small class="post-meta">
          {% if page.date %}{{ page.date | date(format="%Y-%m-%d") }}{% endif %}
        </small>
      </li>
    {% endfor %}
  </ul>
</section>

{% endblock content %}
